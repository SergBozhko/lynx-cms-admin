<!--Страница редактирования item-->

<h4 class="lynx-title" *ngIf="item">
  <i class="material-icons">assignment</i>

  <span *ngIf="isEdit">
    Редактирование {{ categoryName }} - {{ item.title }}
  </span>

  <span *ngIf="!isEdit">
    Добавление {{ categoryName }}
  </span>

</h4>

<div class="lynx-content-block">

  <form action="" (ngSubmit)="save(true)" #itemEditForm="ngForm" id="item-edit" *ngIf="item">

    <div *ngIf="isEdit"  class="row">
      <div class="col-md-12">
        <md-toolbar color="primary">
          ID редактируемого объекта - {{ item.id }}
        </md-toolbar>
      </div>
    </div>

    <hr *ngIf="isEdit" >

    <div *ngIf="isEdit" class="row">

      <div class="form-group col-md-4">
        <md-input-container class="example-full-width">
          <input mdInput type="text" [(ngModel)]="item.Prioritet" name="prioritet" placeholder="Приоритет">
        </md-input-container>
      </div>

      <div class="form-group col-md-4">
        <md-input-container class="example-full-width">
          <input mdInput type="text" [(ngModel)]="item.DateCreating" name="datecreating" placeholder="Дата создания">
        </md-input-container>
      </div>

      <div class="form-group col-md-4">
        <md-input-container class="example-full-width">
          <input mdInput type="text" [(ngModel)]="item.DateEditing" name="dateediting" placeholder="Дата редактирования">
        </md-input-container>
      </div>

    </div>

    <div class="row">

      <div class="form-group col-md-12">
        <md-input-container class="example-full-width">
          <input mdInput type="text" [(ngModel)]="item.title" name="title" placeholder="Наименование">
        </md-input-container>
      </div>

      <div class="form-group col-md-6">
        <md-input-container class="example-full-width">
          <input mdInput type="text" [(ngModel)]="item.subTitle" name="subtitle" placeholder="Подзаголовок">
        </md-input-container>
      </div>

      <div class="form-group col-md-6">
        <md-input-container class="example-full-width">
          <input mdInput type="text" [(ngModel)]="item.description" name="description" placeholder="Описание">
        </md-input-container>
      </div>

      <div class="form-group col-md-12">
        <div *ngIf="categories">
          <md-select placeholder="Категория" [(ngModel)]="item.categoryId" name="categoryid">
            <md-option *ngFor="let category of categories" [value]="category.id">
              {{category.title}}
            </md-option>
          </md-select>
        </div>
      </div>

    </div>

    <div class="form-group row">
      <div class="col-md-12">
        <md-toolbar color="primary">
          <span>Содержимое товара</span>
        </md-toolbar>
      </div>

      <div class="col-md-12">
        <ckeditor name="body" id="item-body" [(ngModel)]="item.body"></ckeditor>
      </div>
    </div>

    <div class="row">

      <div class="form-group col-md-6">
        <label for="item-meta_keywords" class="col-form-label">
          Meta-ключ
        </label>
        <textarea class="form-control" id="item-meta_keywords" [(ngModel)]="item.meta_keywords" name="meta_keywords"></textarea>
      </div>

      <div class="form-group col-md-6">
        <label for="item-meta_desc" class="col-form-label">
          Meta-описание
        </label>
        <textarea class="form-control" id="item-meta_desc" [(ngModel)]="item.meta_description" name="meta_desc"></textarea>
      </div>

    </div>

    <hr>

    <item-images [(images)]="item.Images"></item-images>

    <hr>

    <button class="btn btn-primary" type="submit">Сохранить и выйти</button>
    <button class="btn btn-info" type="button" (click)="save()">Сохранить</button>
    <button class="btn btn-danger" type="button" (click)="deleteItem()">Удалить</button>

  </form>

</div>
